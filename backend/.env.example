# SignalTrue Environment Variables
# Copy this file to .env and fill in your values

#######################
# REQUIRED
#######################

# Server Configuration
PORT=8080
NODE_ENV=development

# MongoDB Connection
# Get from: https://cloud.mongodb.com
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/signaltrue?retryWrites=true&w=majority

#######################
# AI PROVIDER (Choose One or Both)
#######################

# Option 1: OpenAI
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-3.5-turbo
# Options: gpt-3.5-turbo, gpt-4, gpt-4o-mini

# Option 2: Anthropic Claude
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# Provider Selection
AI_PROVIDER=openai
# Options: openai, anthropic

#######################
# OPTIONAL INTEGRATIONS
#######################

# Slack Bot Integration
# Setup: https://api.slack.com/apps
# Required scopes: channels:history, channels:read, chat:write
SLACK_BOT_TOKEN=xoxb-...

# Slack OAuth (for workspace install)
SLACK_CLIENT_ID=...
SLACK_CLIENT_SECRET=...
SLACK_REDIRECT_URI=http://localhost:8080/api/integrations/slack/oauth/callback

# Google Calendar API (Service Account or OAuth)
# Option A: Service Account (for server-to-server calendar reads)
GOOGLE_SERVICE_ACCOUNT={"type":"service_account","project_id":"..."}

# Option B: OAuth Client (for user-consent Gmail/Calendar)
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
GOOGLE_REDIRECT_URI=http://localhost:8080/api/integrations/google/oauth/callback

# Microsoft (Outlook/Teams) OAuth
MS_APP_CLIENT_ID=...
MS_APP_CLIENT_SECRET=...
MS_APP_TENANT=common
MS_APP_REDIRECT_URI=http://localhost:8080/api/integrations/microsoft/oauth/callback

#######################
# EMAIL NOTIFICATIONS
#######################

# SMTP Configuration
# Gmail example (requires app password):
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-16-char-app-password
EMAIL_FROM=SignalTrue <your-email@gmail.com>

# Notification Recipients
NOTIFICATION_EMAIL=team-lead@example.com

# AI Model for Summaries (optional override)
SUMMARY_MODEL=gpt-3.5-turbo

#######################
# SECURITY
#######################

# API Key for Admin Endpoints
# Protects: /api/ai-usage, /api/slack/refresh-all, /api/calendar/refresh-all
API_KEY=your-secret-admin-key-here

# JWT Secret (for future multi-org auth)
# JWT_SECRET=your-jwt-secret-min-32-chars

# Clerk API (alternative auth provider)
# CLERK_SECRET_KEY=sk_live_...

#######################
# OPTIONAL FEATURES
#######################

# Rate Limiting (for /api/analyze endpoint)
ANALYZE_LIMIT=6
ANALYZE_WINDOW_MS=60000

# AWS S3 for File Uploads (optional)
USE_S3=false
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...
# AWS_S3_BUCKET=signaltrue-uploads
# AWS_REGION=us-west-2

# Virus Scanning (optional)
VIRUS_SCAN=false
# SCAN_COMMAND=/usr/bin/clamscan
# SCAN_ARGS=--infected --no-summary


# Anthropic (Claude) configuration
# ANTHROPIC_API_KEY=sk-ant-...
# AI_PROVIDER=anthropic        # set to use Claude by default

# Slack integration (Phase 2)
# SLACK_BOT_TOKEN=xoxb-...
# SLACK_SIGNING_SECRET=...

# Analyze endpoint limits (defaults shown)
# ANALYZE_LIMIT=6              # max analyze calls per IP per window
# ANALYZE_WINDOW_MS=60000      # window size in ms

#######################
# STRIPE BILLING (optional but required for payments)
#######################

# Frontend URL for redirects
APP_URL=http://localhost:3000

# Secret API key
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...

# Webhook secret for the endpoint you create in Stripe Dashboard
# Recommended outside of local dev with the Stripe CLI
STRIPE_WEBHOOK_SECRET=whsec_...

# Free trial length in days
STRIPE_TRIAL_DAYS=30

# Plan price IDs (from Products > Prices in Stripe Dashboard)
STRIPE_PRICE_ID_STARTER=price_...
STRIPE_PRICE_ID_PRO=price_...
STRIPE_PRICE_ID_ENTERPRISE=price_...
